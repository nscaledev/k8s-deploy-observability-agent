---

# The clusters name
clusterName: ~

# The region the cluster is in
region: ~

# The environment the cluster is in
environment: ~

# OpenTelemetry collector aggregator endpoint
otlpEndpoint: aggregator-public.observability-dev.glo1.nscale.com

cleanupJob:
  enabled: true
  image: registry.k8s.io/kubectl:v1.31.0
  serviceAccountName: null

# OpenTelemetry component versions
# When bumping versions, also bump and rerun ./scripts/update-crds.sh to refresh vendored CRDs
openTelemetry:
  version: 0.92.5
  collector:
    version: 0.131.1

# Aggregator authentication configuration
aggregator:
  auth:
    # Name of the secret containing basic auth credentials
    # Must contain 'username' and 'password' keys
    secretName: aggregator-basic-auth-credentials


# Kubernetes component exporters configuration
exporters:
  enabled: true

# kube-prometheus-stack subchart configuration
# Disable all Prometheus components, keep only ServiceMonitors and Services
kube-prometheus-stack:
  # Disable Prometheus server
  prometheus:
    enabled: false

  # Disable Alertmanager
  alertmanager:
    enabled: false

  # Disable Grafana
  grafana:
    enabled: false

  # Disable Prometheus Operator (we have OpenTelemetry Operator)
  prometheusOperator:
    enabled: false

  # Keep kube-state-metrics with ServiceMonitor
  kubeStateMetrics:
    enabled: true

  # Keep node-exporter with ServiceMonitor
  nodeExporter:
    enabled: true

  # Keep all control plane ServiceMonitors
  kubeApiServer:
    enabled: true
  kubeControllerManager:
    enabled: true
  kubeScheduler:
    enabled: true
  kubeEtcd:
    enabled: true
  kubeProxy:
    enabled: true
  kubelet:
    enabled: true
  coreDns:
    enabled: true

# OpenTelemetry Operator subchart configuration
opentelemetry-operator:
  enabled: true
  crds:
    create: false
  fullnameOverride: opentelemetry-operator
  manager:
    serviceMonitor:
      enabled: true
  admissionWebhooks:
    failurePolicy: Ignore
    certManager:
      enabled: true
